{"remainingRequest":"/Users/catherineluse/Documents/workspace/unit-4/capstone-connect/Capstone-Connect/node_modules/babel-loader/lib/index.js!/Users/catherineluse/Documents/workspace/unit-4/capstone-connect/Capstone-Connect/node_modules/eslint-loader/index.js??ref--13-0!/Users/catherineluse/Documents/workspace/unit-4/capstone-connect/Capstone-Connect/src/store/modules/auth.js","dependencies":[{"path":"/Users/catherineluse/Documents/workspace/unit-4/capstone-connect/Capstone-Connect/src/store/modules/auth.js","mtime":1529485092370},{"path":"/Users/catherineluse/Documents/workspace/unit-4/capstone-connect/Capstone-Connect/node_modules/cache-loader/dist/cjs.js","mtime":1528441485530},{"path":"/Users/catherineluse/Documents/workspace/unit-4/capstone-connect/Capstone-Connect/node_modules/babel-loader/lib/index.js","mtime":1526583314000},{"path":"/Users/catherineluse/Documents/workspace/unit-4/capstone-connect/Capstone-Connect/node_modules/eslint-loader/index.js","mtime":1519638534000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport api from '../../api/imgur';\nimport qs from 'qs';\nimport { router } from '../../main'; // const state = {\n//   token: window.localStorage.getItem('imgur_token'),\n//   role: null,\n//   id: null\n// };\n//\n//\n// const mutations = {\n//   setToken: (state, token) => {\n//     state.token = token;\n//   },\n//   setRole: (state, role) => {\n//     state.role = role;\n//   },\n//   setId: (state, id) => {\n//     state.id = id;\n//   },\n//   setAdmin: (state, boolean) => {\n//     state.isAdmin = boolean;\n//   }\n// };\n\nvar state = {\n  token: window.localStorage.getItem('imgur_token'),\n  role: \"admin\",\n  id: 1\n};\nvar getters = {\n  isLoggedIn: function isLoggedIn() {\n    return true;\n  },\n  //state => !!state.token,\n  isAdmin: function isAdmin(state) {\n    return state.role === \"admin\";\n  },\n  isStudent: function isStudent(state) {\n    return state.role === \"student\";\n  },\n  isBusiness: function isBusiness(state) {\n    return state.role === \"business\";\n  }\n};\nvar mutations = {\n  setToken: function setToken(state, token) {\n    state.token = token;\n  }\n};\nvar actions = {\n  login: function login() {\n    api.login();\n  },\n  logout: function logout(_ref) {\n    var commit = _ref.commit;\n    commit('setToken', null);\n    window.localStorage.removeItem('imgur_token');\n  },\n  finalizeLogin: function finalizeLogin(_ref2, hash) {\n    var commit = _ref2.commit;\n    var query = qs.parse(hash.replace('#', ''));\n    commit('setToken', query.access_token);\n    window.localStorage.setItem('imgur_token', query.access_token);\n    router.push('/');\n  }\n};\nexport default {\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};",{"version":3,"sources":["src/store/modules/auth.js"],"names":["api","qs","router","state","token","window","localStorage","getItem","role","id","getters","isLoggedIn","isAdmin","isStudent","isBusiness","mutations","setToken","actions","login","logout","commit","removeItem","finalizeLogin","hash","query","parse","replace","access_token","setItem","push"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SAASC,MAAT,QAAuB,YAAvB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,QAAQ;AACZC,SAAOC,OAAOC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,CADK;AAEZC,QAAM,OAFM;AAGZC,MAAI;AAHQ,CAAd;AAMA,IAAMC,UAAU;AACdC,cAAY;AAAA,WAAM,IAAN;AAAA,GADE;AACU;AACxBC,WAAS;AAAA,WAAST,MAAMK,IAAN,KAAe,OAAxB;AAAA,GAFK;AAGdK,aAAW;AAAA,WAASV,MAAMK,IAAN,KAAe,SAAxB;AAAA,GAHG;AAIdM,cAAY;AAAA,WAASX,MAAMK,IAAN,KAAe,UAAxB;AAAA;AAJE,CAAhB;AAOA,IAAMO,YAAY;AAChBC,YAAU,kBAACb,KAAD,EAAQC,KAAR,EAAkB;AAC1BD,UAAMC,KAAN,GAAcA,KAAd;AACD;AAHe,CAAlB;AAMA,IAAMa,UAAU;AACdC,SAAO,iBAAM;AACXlB,QAAIkB,KAAJ;AACD,GAHa;AAIdC,UAAQ,sBAAgB;AAAA,QAAbC,MAAa,QAAbA,MAAa;AACtBA,WAAO,UAAP,EAAmB,IAAnB;AACAf,WAAOC,YAAP,CAAoBe,UAApB,CAA+B,aAA/B;AACD,GAPa;AAQdC,iBAAe,8BAAaC,IAAb,EAAsB;AAAA,QAAnBH,MAAmB,SAAnBA,MAAmB;AACnC,QAAMI,QAAQvB,GAAGwB,KAAH,CAASF,KAAKG,OAAL,CAAa,GAAb,EAAkB,EAAlB,CAAT,CAAd;AAEAN,WAAO,UAAP,EAAmBI,MAAMG,YAAzB;AACAtB,WAAOC,YAAP,CAAoBsB,OAApB,CAA4B,aAA5B,EAA2CJ,MAAMG,YAAjD;AACAzB,WAAO2B,IAAP,CAAY,GAAZ;AACD;AAda,CAAhB;AAiBA,eAAe;AACb1B,cADa;AAEbO,kBAFa;AAGbO,kBAHa;AAIbF;AAJa,CAAf","sourceRoot":"/Users/catherineluse/Documents/workspace/unit-4/capstone-connect/Capstone-Connect","sourcesContent":["import api from '../../api/imgur';\nimport qs from 'qs';\nimport { router } from '../../main';\n\n// const state = {\n//   token: window.localStorage.getItem('imgur_token'),\n//   role: null,\n//   id: null\n// };\n//\n\n//\n// const mutations = {\n//   setToken: (state, token) => {\n//     state.token = token;\n//   },\n//   setRole: (state, role) => {\n//     state.role = role;\n//   },\n//   setId: (state, id) => {\n//     state.id = id;\n//   },\n//   setAdmin: (state, boolean) => {\n//     state.isAdmin = boolean;\n//   }\n// };\n\nconst state = {\n  token: window.localStorage.getItem('imgur_token'),\n  role: \"admin\",\n  id: 1\n};\n\nconst getters = {\n  isLoggedIn: () => true ,//state => !!state.token,\n  isAdmin: state => state.role === \"admin\",\n  isStudent: state => state.role === \"student\",\n  isBusiness: state => state.role === \"business\"\n};\n\nconst mutations = {\n  setToken: (state, token) => {\n    state.token = token;\n  }\n};\n\nconst actions = {\n  login: () => {\n    api.login();\n  },\n  logout: ({ commit }) => {\n    commit('setToken', null);\n    window.localStorage.removeItem('imgur_token');\n  },\n  finalizeLogin: ({ commit }, hash) => {\n    const query = qs.parse(hash.replace('#', ''));\n\n    commit('setToken', query.access_token);\n    window.localStorage.setItem('imgur_token', query.access_token);\n    router.push('/');\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}\n"]}]}